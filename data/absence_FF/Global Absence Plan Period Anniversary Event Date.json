[
    {
        "FORMULA_NAME": "CIMB_MY_SICK_LEAVE_PLAN_PERIOD_DATE",
        "answer": "DEFAULT for PER_ASG_REL_DATE_START is '4712/12/31 00:00:00'(date) DEFAULT for PER_ASG_REL_ACTUAL_TERMINATION_DATE is'4712/12/31 00:00:00'(date) DEFAULT FOR PER_ASG_EFFECTIVE_START_DATE IS '4712/12/31 00:00:00'(date) DEFAULT FOR PER_PER_PERSON_NUMBER IS 'X' DEFAULT FOR IV_PLANENROLLMENTSTARTDATE IS '4712/12/31 00:00:00' (date) DEFAULT FOR PER_ASG_EMPLOYMENT_CATEGORY IS 'X' INPUTS ARE IV_PLANENROLLMENTSTARTDATE(date) l_person_id = GET_CONTEXT(PERSON_ID,0) l_hire_date = PER_ASG_REL_DATE_START l_hr_assignment_id = get_context(HR_ASSIGNMENT_ID,0) l_asg_category = PER_ASG_EMPLOYMENT_CATEGORY l_start_date = to_date('2023-01-01','yyyy-MM-dd') l_attrition_date = PER_ASG_REL_ACTUAL_TERMINATION_DATE EffDate = to_date(GLOBAL_PAY_INTERFACE_EXTRACTION_DATE ,'rrrr/mm/dd') l_year_begin_date = TO_DATE(TO_CHAR(EffDate,'YYYY')||'-01-01','YYYY-MM-DD') l_asg_start = PER_ASG_REL_DATE_START l_asg_eff_st_date = to_date('2019-09-23','yyyy-MM-dd') l_eff_date = GET_CONTEXT(EFFECTIVE_DATE,'4712/12/31 00:00:00'(date)) l_value = 'X' L_year_start_date = TO_DATE(GET_VALUE_SET('CIMB_GET_MY_ENROL_START_DATE','|=P_PERSON_ID='||TO_CHAR(l_person_id)||'|P_ASSG_CAT='''||l_asg_category||''''||'|P_EFF_DATE='''||TO_CHAR(l_eff_date,'YYYY/MM/DD')||''''),'YYYY-MM-DD') IF l_asg_category != 'CONTRACT' THEN anniversaryDate = GREATEST(l_year_begin_date, l_hire_date) IF l_asg_category = 'CONTRACT' THEN ( l_period_start_date = TO_DATE(GET_VALUE_SET('CIMB_GET_CONTRACT_RENEWAL_DATE','|=P_PERSON_ID='||to_char(l_person_id)||'|P_EFF_DATE='''||TO_CHAR(l_attrition_date,'YYYY/MM/DD')||''''),'YYYY-MM-DD') anniversaryDate = GREATEST(l_hire_date,l_period_start_date) ) Return anniversaryDate",
        "question": "",
        "FORMULA_TYPE_NAME": "Global Absence Plan Period Anniversary Event Date",
        "LEGISLATIVE_DATA_GROUP": "CIMB Malaysia"
    },
    {
        "FORMULA_NAME": "CIMB_MY_ANNIVERSARY_DATE",
        "answer": "DEFAULT for PER_ASG_REL_DATE_START is '4712/12/31 00:00:00'(date) DEFAULT for PER_ASG_REL_ACTUAL_TERMINATION_DATE is'4712/12/31 00:00:00'(date) DEFAULT FOR PER_ASG_EFFECTIVE_START_DATE IS '4712/12/31 00:00:00'(date) DEFAULT FOR PER_PER_PERSON_NUMBER IS 'X' DEFAULT FOR IV_PLANENROLLMENTSTARTDATE IS '4712/12/31 00:00:00' (date) INPUTS ARE IV_PLANENROLLMENTSTARTDATE(date) l_person_id = GET_CONTEXT(PERSON_ID,0) l_hire_date = PER_ASG_REL_DATE_START l_attrition_date = PER_ASG_REL_ACTUAL_TERMINATION_DATE l_hr_assignment_id = get_context(HR_ASSIGNMENT_ID,0) l_start_date = to_date('2019-09-23','yyyy-MM-dd') EffDate = to_date(GLOBAL_PAY_INTERFACE_EXTRACTION_DATE ,'rrrr/mm/dd') l_asg_start = PER_ASG_REL_DATE_START L_year_start_date = GREATEST(TO_DATE(TO_CHAR(EffDate,'YYYY')||'-01-01','YYYY-MM-DD'), l_asg_start) l_asg_eff_st_date = to_date('2019-09-23','yyyy-MM-dd') l_eff_date = GET_CONTEXT(EFFECTIVE_DATE,'4712/12/31 00:00:00'(date)) l_value = 'X' l_period_start_date = TO_DATE(GET_VALUE_SET('CIMB_GET_CONTRACT_RENEWAL_DATE','|=P_PERSON_ID='||to_char(l_person_id)||'|P_EFF_DATE='''||TO_CHAR(l_attrition_date,'YYYY/MM/DD')||''''),'YYYY-MM-DD') anniversaryDate = l_period_start_date Return anniversaryDate",
        "question": "",
        "FORMULA_TYPE_NAME": "Global Absence Plan Period Anniversary Event Date",
        "LEGISLATIVE_DATA_GROUP": "CIMB Malaysia"
    },
    {
        "FORMULA_NAME": "CIMB_HK_PLAN_PERIOD_ANNIVERSARY_EVENT_DATE",
        "answer": "DEFAULT for PER_ASG_REL_DATE_START is '4712/12/31 00:00:00'(date) DEFAULT for PER_ASG_REL_ACTUAL_TERMINATION_DATE is'4712/12/31 00:00:00'(date) DEFAULT FOR PER_ASG_EFFECTIVE_START_DATE IS '4712/12/31 00:00:00'(date) DEFAULT FOR PER_PER_PERSON_NUMBER IS 'X' DEFAULT FOR IV_PLANENROLLMENTSTARTDATE IS '4712/12/31 00:00:00' (date) INPUTS ARE IV_PLANENROLLMENTSTARTDATE(date) l_person_id = GET_CONTEXT(PERSON_ID,0) l_hire_date = PER_ASG_REL_DATE_START l_hr_assignment_id = get_context(HR_ASSIGNMENT_ID,0) l_start_date = to_date('2019-09-23','yyyy-MM-dd') EffDate = to_date(GLOBAL_PAY_INTERFACE_EXTRACTION_DATE ,'rrrr/mm/dd') l_asg_start = PER_ASG_REL_DATE_START L_year_start_date = GREATEST(TO_DATE(TO_CHAR(EffDate,'YYYY')||'-01-01','YYYY-MM-DD'), l_asg_start) l_asg_eff_st_date = to_date('2019-09-23','yyyy-MM-dd') l_eff_date = GET_CONTEXT(EFFECTIVE_DATE,'4712/12/31 00:00:00'(date)) l_value = 'X' CHANGE_CONTEXTS(EFFECTIVE_DATE = l_eff_date) ( l_person_number = PER_PER_PERSON_NUMBER ) CHANGE_CONTEXTS(EFFECTIVE_DATE = l_eff_date,HR_ASSIGNMENT_ID = l_hr_assignment_id) ( L_year_start_date = TO_DATE(GET_VALUE_SET('CIMB_GET_CONTRACT_START_DATE','|=P_PERSON_ID='||to_char(l_person_id)),'YYYY-MM-DD') ) IF ( l_year_start_date > l_start_date) THEN ( anniversaryDate = l_year_start_date ) ELSE ( anniversaryDate = l_asg_start ) Return anniversaryDate",
        "question": "",
        "FORMULA_TYPE_NAME": "Global Absence Plan Period Anniversary Event Date",
        "LEGISLATIVE_DATA_GROUP": "CIMB Hong Kong"
    },
    {
        "FORMULA_NAME": "CIMB_MY_PLAN_PERIOD_ANNIVERSARY_EVENT_DATE",
        "answer": "DEFAULT for PER_ASG_REL_DATE_START is '4712/12/31 00:00:00'(date) DEFAULT for PER_ASG_REL_ACTUAL_TERMINATION_DATE is'4712/12/31 00:00:00'(date) DEFAULT FOR PER_ASG_EFFECTIVE_START_DATE IS '4712/12/31 00:00:00'(date) DEFAULT FOR PER_PER_PERSON_NUMBER IS 'X' DEFAULT FOR IV_PLANENROLLMENTSTARTDATE IS '4712/12/31 00:00:00' (date) INPUTS ARE IV_PLANENROLLMENTSTARTDATE(date) l_person_id = GET_CONTEXT(PERSON_ID,0) l_hire_date = PER_ASG_REL_DATE_START l_attrition_date = PER_ASG_REL_ACTUAL_TERMINATION_DATE l_hr_assignment_id = get_context(HR_ASSIGNMENT_ID,0) l_start_date = to_date('2019-09-23','yyyy-MM-dd') EffDate = to_date(GLOBAL_PAY_INTERFACE_EXTRACTION_DATE ,'rrrr/mm/dd') l_asg_start = PER_ASG_REL_DATE_START L_year_start_date = GREATEST(TO_DATE(TO_CHAR(EffDate,'YYYY')||'-01-01','YYYY-MM-DD'), l_asg_start) l_asg_eff_st_date = to_date('2019-09-23','yyyy-MM-dd') l_eff_date = GET_CONTEXT(EFFECTIVE_DATE,'4712/12/31 00:00:00'(date)) l_value = 'X' l_period_start_date = TO_DATE(GET_VALUE_SET('CIMB_GET_CONTRACT_RENEWAL_DATE','|=P_PERSON_ID='||to_char(l_person_id)||'|P_EFF_DATE='''||TO_CHAR(l_attrition_date,'YYYY/MM/DD')||''''),'YYYY-MM-DD') anniversaryDate = l_period_start_date Return anniversaryDate",
        "question": "",
        "FORMULA_TYPE_NAME": "Global Absence Plan Period Anniversary Event Date",
        "LEGISLATIVE_DATA_GROUP": "CIMB Malaysia"
    },
    {
        "FORMULA_NAME": "TOH_Absence_Event_Date",
        "answer": "DEFAULT FOR PER_ASG_USER_PERSON_TYPE IS 'Worker' DEFAULT FOR PER_PERSON_ENTERPRISE_HIRE_DATE IS '4712/12/31 00:00:00' (date) DEFAULT FOR PER_ASG_REL_DATE_START IS '4712/12/31 00:00:00' (date) DEFAULT FOR PER_ASG_REL_ATTRIBUTE_DATE1 is '0001/01/01 00:00:00' (Date) DEFAULT FOR PER_ASG_REL_ATTRIBUTE_DATE3 is '0001/01/01 00:00:00' (Date) DEFAULT FOR PER_PER_LATEST_REHIRE_DATE is '0001/01/01 00:00:00' (Date) DEFAULT FOR PER_REL_ATTRIBUTE_DATE6 is '0001/01/01 00:00:00' (Date) l_log_data = ESS_LOG_WRITE('Bonus vacation date ...' + to_char(PER_ASG_REL_ATTRIBUTE_DATE3) ) l_log_data = ESS_LOG_WRITE('Adjusted Service date ...' + to_char(PER_ASG_REL_ATTRIBUTE_DATE1) ) l_log_data = ESS_LOG_WRITE('Hire date ...' + to_char(PER_PER_LATEST_REHIRE_DATE) ) if (PER_ASG_REL_ATTRIBUTE_DATE3 WAS NOT DEFAULTED) then ( lv_emp_begin_date =PER_ASG_REL_ATTRIBUTE_DATE3 ) else if ( PER_ASG_REL_ATTRIBUTE_DATE1 WAS NOT DEFAULTED) then ( lv_emp_begin_date = PER_ASG_REL_ATTRIBUTE_DATE1 ) else ( lv_emp_begin_date = PER_REL_ATTRIBUTE_DATE6 ) anniversaryDate = lv_emp_begin_date RETURN anniversaryDate",
        "question": "This formula determines the start date of the calendar leave year for an employee's anniversary year based on their employment dates. It checks various dates such as the bonus vacation date, adjusted service date, and hire date to find the earliest relevant date. This date is then used as the anniversary date for the leave year.",
        "FORMULA_TYPE_NAME": "Global Absence Plan Period Anniversary Event Date",
        "LEGISLATIVE_DATA_GROUP": "US Legislative Data Group"
    }
]