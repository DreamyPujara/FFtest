[
    {
        "FORMULA_NAME": "FR Sample Sickness Band Entitlement",
        "answer": "DEFAULT FOR ANC_ABS_TYP_LEG_GROUPING_CD IS 'UNKNOWN' DEFAULT FOR ANC_ABS_PLN_LEG_GROUPING_CD IS 'UNKNOWN' DEFAULT FOR ANC_ABS_PLN_NAME IS 'UNKNOWN' DEFAULT FOR ORA_HRX_FR_ABS_PER_NUMBER_CHILDREN IS 0 DEFAULT FOR PER_TERM_REL_DATE_START IS '0001/01/01 00:00:00' (DATE) DEFAULT FOR IV_CONDITION_START_DATE IS '4712/12/31 00:00:00' (DATE) DEFAULT FOR IV_START_DATE IS '4712/12/31 00:00:00' (date) INPUTS ARE IV_START_DATE (date), IV_CONDITION_START_DATE (date) ret = ess_log_write ( '-- Start of Formula 1 ------') l_effective_date = '0001/01/01 00:00:00' (DATE) l_seniority_days = 0 l_seniority =0 l_seniority_unrounded =0 l_remaining_Entitlement=0 l_remaining_waiting_period = 0 l_consumed_Band50 = 0 IF (ANC_ABS_PLN_LEG_GROUPING_CD = 'ORA_HRX_FR_IJSS') THEN ( ret = ess_log_write ( '-- Start of IJSS ------') lc_variable_to_be_logged = 'ANC_ABS_TYP_LEG_GROUPING_CD : '|| ANC_ABS_TYP_LEG_GROUPING_CD lc_dummy_variable = ESS_LOG_WRITE(lc_variable_to_be_logged) IF ((ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_MAL' ) AND IV_CONDITION_START_DATE WAS DEFAULTED) THEN ( ret = ess_log_write ( '-- waiting period 3days-') lc_variable_to_be_logged = 'IV_CONDITION_START_DATE : '|| TO_CHAR(IV_CONDITION_START_DATE) lc_dummy_variable = ESS_LOG_WRITE(lc_variable_to_be_logged) BANDPAYFACTOR = 0 BANDENTITLEMENT = 3 ) ELSE ( IF (ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_MAL' OR ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_LMAL') THEN ( IF (IV_CONDITION_START_DATE WAS NOT DEFAULTED OR ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_LMAL') THEN ( IF (ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_MAL' ) THEN l_remaining_waiting_period = 3 - GET_ENTITLEMENTS(ANC_ABS_PLN_NAME,' ',0,IV_CONDITION_START_DATE, ADD_DAYS(IV_CONDITION_START_DATE,2)) ELSE l_remaining_waiting_period = 3 - GET_ENTITLEMENTS(ANC_ABS_PLN_NAME,' ',0,ADD_YEARS(IV_START_DATE,-3), IV_START_DATE) lc_variable_to_be_logged = 'l_remaining_waiting_period : '|| TO_CHAR(l_remaining_waiting_period) lc_dummy_variable = ESS_LOG_WRITE(lc_variable_to_be_logged) IF (l_remaining_waiting_period > 0) THEN ( BANDPAYFACTOR = 0 BANDENTITLEMENT = l_remaining_waiting_period) ELSE ( CHANGE_CONTEXTS(EFFECTIVE_DATE = IV_CONDITION_START_DATE) ( l_consumed_Band50 =GET_ENTITLEMENTS(ANC_ABS_PLN_NAME,' ',50,IV_CONDITION_START_DATE, ADD_DAYS(IV_START_DATE,-1)) lc_variable_to_be_logged = 'consume 50 new : '|| TO_CHAR(l_consumed_Band50) lc_dummy_variable = ESS_LOG_WRITE(lc_variable_to_be_logged) ) IF (ORA_HRX_FR_ABS_PER_NUMBER_CHILDREN < 3) THEN (BANDPAYFACTOR = 50 BANDENTITLEMENT = 3) ELSE ( l_remaining_Entitlement = 30 - l_consumed_band50 if (l_remaining_Entitlement <= 0) THEN (BANDPAYFACTOR = 66.66 BANDENTITLEMENT = 3) ELSE (BANDPAYFACTOR = 50 BANDENTITLEMENT = LEAST(l_remaining_Entitlement,3)) ) ) ) ELSE ( BANDPAYFACTOR = 50 BANDENTITLEMENT = 3 ) ) ELSE ( BANDPAYFACTOR = 60 BANDENTITLEMENT = 3 ) ) ) ELSE ( IF IV_CONDITION_START_DATE WAS NOT DEFAULTED THEN l_effective_date = IV_CONDITION_START_DATE ELSE l_effective_date = IV_START_DATE l_seniority_unrounded= days_BETWEEN(l_effective_date, PER_TERM_REL_DATE_START)/365 l_seniority= trunc(l_seniority_unrounded,0) l_consumed_Band2 =GET_ENTITLEMENTS(ANC_ABS_PLN_NAME,' ',90,ADD_MONTHS(IV_START_DATE, -12), ADD_DAYS(IV_START_DATE,-1)) lc_variable_to_be_logged = 'consume band 2 rate 90 legal : '|| TO_CHAR(l_consumed_Band2) lc_dummy_variable = ESS_LOG_WRITE(lc_variable_to_be_logged) CHANGE_CONTEXTS(EFFECTIVE_DATE = l_effective_date) ( IF l_seniority >= 31 THEN (l_remaining_Entitlement = 90 ) IF l_seniority < 31 THEN (l_remaining_Entitlement = 80 - l_consumed_Band2) IF l_seniority < 21 THEN (l_remaining_Entitlement = 60 - l_consumed_Band2) IF l_seniority < 16 THEN (l_remaining_Entitlement = 50 - l_consumed_Band2) IF l_seniority < 11 THEN (l_remaining_Entitlement = 40 - l_consumed_Band2) IF l_seniority < 6 THEN (l_remaining_Entitlement = 30 - l_consumed_Band2) IF l_seniority < 1 THEN (l_remaining_Entitlement = 366) IF l_remaining_Entitlement < 0 THEN (l_remaining_Entitlement = 0) l_remaining_Entitlement=LEAST(l_remaining_Entitlement,7) lc_variable_to_be_logged = 'l_remaining_Entitlement band 2 legal : '|| TO_CHAR(l_remaining_Entitlement) lc_dummy_variable = ESS_LOG_WRITE(lc_variable_to_be_logged) ) IF (((ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_MAL' OR ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_AT' OR ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_LMAL') AND IV_CONDITION_START_DATE WAS DEFAULTED) ) THEN ( BANDPAYFACTOR = 0 BANDENTITLEMENT = 7 ) ELSE ( IF (ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_MAL' OR ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_LMAL' OR ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_AT') THEN ( IF (IV_CONDITION_START_DATE WAS NOT DEFAULTED) THEN ( l_remaining_waiting_period = 7 - GET_ENTITLEMENTS(ANC_ABS_PLN_NAME,' ',0,IV_CONDITION_START_DATE, ADD_DAYS(IV_CONDITION_START_DATE,6)) IF (l_remaining_waiting_period > 0) THEN ( BANDPAYFACTOR = 0 BANDENTITLEMENT = l_remaining_waiting_period) ELSE ( IF l_seniority < 1 THEN (BANDPAYFACTOR = 0 BANDENTITLEMENT = 7) ELSE (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement) ) ) ELSE ( IF l_seniority < 1 THEN (BANDPAYFACTOR = 0 BANDENTITLEMENT = 7) ELSE (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement) ) ) ELSE ( IF l_seniority < 1 THEN (BANDPAYFACTOR = 0 BANDENTITLEMENT = 7) ELSE (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement) ) ) ) lc_variable_to_be_logged = 'percent is : '|| TO_CHAR(BANDPAYFACTOR ) lc_dummy_variable = ESS_LOG_WRITE(lc_variable_to_be_logged) lc_variable_to_be_logged = 'entitlement : '|| TO_CHAR(BANDENTITLEMENT) lc_dummy_variable = ESS_LOG_WRITE(lc_variable_to_be_logged) RETURN BANDPAYFACTOR, BANDENTITLEMENT",
        "question": "Calculates the duration of half-day absences for employees in Singapore based on work schedules and rosters. Determines if an absence is a full day or half day by comparing entered absence hours to total assigned shift hours, counting half-day absences as 0.5 days if less than half the shift hours, and full days if equal to or exceeding shift hours, with adjustments for midnight spans. Returns the calculated duration.",
        "FORMULA_TYPE_NAME": "Global Absence Band Entitlement",
        "LEGISLATIVE_DATA_GROUP": "Standard formula"
    },
    {
        "FORMULA_NAME": "FR Sample Sickness Band 2 Entitlement",
        "answer": "DEFAULT FOR ANC_ABS_TYP_LEG_GROUPING_CD IS 'ABSTYPEUNKNOWN' DEFAULT FOR ANC_ABS_PLN_LEG_GROUPING_CD IS 'PLANTYPEUNKNOWN' DEFAULT FOR ANC_ABS_PLN_NAME IS 'PLANUNKNOWN' DEFAULT FOR ORA_HRX_FR_ABS_PER_NUMBER_CHILDREN IS 0 DEFAULT FOR PER_TERM_REL_DATE_START IS '0001/01/01 00:00:00' (DATE) DEFAULT FOR IV_CONDITION_START_DATE IS '0001/01/01 00:00:00' (DATE) DEFAULT FOR IV_START_DATE IS '4712/12/31 00:00:00' (date) INPUTS ARE IV_START_DATE (date), IV_CONDITION_START_DATE (date) ret = ess_log_write ( '-- Start of Formula 2------') l_effective_date = '0001/01/01 00:00:00' (DATE) l_seniority =0 l_seniority_unrounded =0 l_consumed_Band50 =0 l_consumed_Band2 =0 l_remaining_Entitlement = 0 l_total_consumed_entitlement = 0 IF (ANC_ABS_PLN_LEG_GROUPING_CD = 'ORA_HRX_FR_IJSS') THEN ( l_total_consumed_entitlement = GET_ENTITLEMENTS(ANC_ABS_PLN_NAME,' ',50,ADD_YEARS(IV_START_DATE,-3), IV_START_DATE) + GET_ENTITLEMENTS(ANC_ABS_PLN_NAME,' ',66.66,ADD_YEARS(IV_START_DATE,-3), IV_START_DATE) IF (ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_MAL' AND IV_CONDITION_START_DATE WAS DEFAULTED) THEN ( l_remaining_Entitlement = 360 - l_total_consumed_entitlement IF (ORA_HRX_FR_ABS_PER_NUMBER_CHILDREN < 3) THEN (BANDPAYFACTOR = 50 BANDENTITLEMENT = LEAST(l_remaining_Entitlement,360)) ELSE (BANDPAYFACTOR = 50 BANDENTITLEMENT = LEAST(l_remaining_Entitlement,30)) ) ELSE ( IF ((ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_LMAL' ) AND IV_CONDITION_START_DATE WAS DEFAULTED) THEN ( l_remaining_Entitlement = 1080 - l_total_consumed_entitlement IF (ORA_HRX_FR_ABS_PER_NUMBER_CHILDREN < 3) THEN (BANDPAYFACTOR = 50 BANDENTITLEMENT = LEAST(l_remaining_Entitlement,1080)) ELSE (BANDPAYFACTOR = 50 BANDENTITLEMENT = LEAST(l_remaining_Entitlement,30)) ) ELSE ( IF IV_CONDITION_START_DATE WAS NOT DEFAULTED THEN l_effective_date = IV_CONDITION_START_DATE ELSE l_effective_date = IV_START_DATE CHANGE_CONTEXTS(EFFECTIVE_DATE = l_effective_date) ( l_consumed_Band50 =GET_ENTITLEMENTS(ANC_ABS_PLN_NAME,' ',50,IV_CONDITION_START_DATE, ADD_DAYS(IV_START_DATE,-1)) lc_variable_to_be_logged = 'consume 50 new : '|| TO_CHAR(l_consumed_Band50) lc_dummy_variable = ESS_LOG_WRITE(lc_variable_to_be_logged) ) IF ((ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_MAL' AND IV_CONDITION_START_DATE WAS NOT DEFAULTED) ) THEN ( IF (ORA_HRX_FR_ABS_PER_NUMBER_CHILDREN < 3) THEN (BANDPAYFACTOR = 50 BANDENTITLEMENT = 357) ELSE ( l_remaining_Entitlement = 30 - l_consumed_band50 if (l_remaining_Entitlement <= 0) THEN (BANDPAYFACTOR = 66.66 BANDENTITLEMENT = 27) ELSE (BANDPAYFACTOR = 50 BANDENTITLEMENT = l_remaining_Entitlement - 3) ) ) ELSE ( IF ((ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_LMAL' AND IV_CONDITION_START_DATE WAS NOT DEFAULTED) ) THEN ( IF (ORA_HRX_FR_ABS_PER_NUMBER_CHILDREN < 3) THEN (BANDPAYFACTOR = 50 BANDENTITLEMENT = 1077) ELSE ( l_remaining_Entitlement = 30 - l_consumed_band50 if (l_remaining_Entitlement <= 0) THEN (BANDPAYFACTOR = 66.66 BANDENTITLEMENT = 27) ELSE (BANDPAYFACTOR = 50 BANDENTITLEMENT = l_remaining_Entitlement - 3) ) ) ELSE (BANDPAYFACTOR = 60 BANDENTITLEMENT = 25) ) ) ) ) ELSE ( IF IV_CONDITION_START_DATE WAS NOT DEFAULTED THEN l_effective_date = IV_CONDITION_START_DATE ELSE l_effective_date = IV_START_DATE l_consumed_Band2 =GET_ENTITLEMENTS(ANC_ABS_PLN_NAME,' ',90,ADD_MONTHS(IV_START_DATE, -12), ADD_DAYS(IV_START_DATE,-1)) lc_variable_to_be_logged = 'consume band 2 rate 90 legal : '|| TO_CHAR(l_consumed_Band2) lc_dummy_variable = ESS_LOG_WRITE(lc_variable_to_be_logged) l_seniority_unrounded= days_BETWEEN(l_effective_date, PER_TERM_REL_DATE_START)/365 l_seniority= TRUNC(l_seniority_unrounded,0) CHANGE_CONTEXTS(EFFECTIVE_DATE = l_effective_date) ( IF l_seniority >= 31 THEN (l_remaining_Entitlement = 90 - l_consumed_Band2) IF l_seniority < 31 THEN (l_remaining_Entitlement = 80 - l_consumed_Band2) IF l_seniority < 21 THEN (l_remaining_Entitlement = 60 - l_consumed_Band2) IF l_seniority < 16 THEN (l_remaining_Entitlement = 50 - l_consumed_Band2) IF l_seniority < 11 THEN (l_remaining_Entitlement = 40 - l_consumed_Band2) IF l_seniority < 6 THEN (l_remaining_Entitlement = 30 - l_consumed_Band2) IF l_seniority < 1 THEN (l_remaining_Entitlement = 9999) IF l_remaining_Entitlement < 0 THEN (l_remaining_Entitlement = 0) ) IF ((ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_MAL' OR ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_LMAL' OR ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_AT') AND IV_CONDITION_START_DATE WAS DEFAULTED) THEN ( IF l_seniority >= 31 THEN (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement) IF l_seniority < 31 THEN (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement) IF l_seniority < 21 THEN (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement) IF l_seniority < 16 THEN (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement) IF l_seniority < 11 THEN (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement) IF l_seniority < 6 THEN (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement) IF l_seniority < 1 THEN (BANDPAYFACTOR = 0 BANDENTITLEMENT = 9999) ) ELSE ( IF (ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_MAL' OR ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_LMAL' OR ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_AT') THEN ( l_remaining_waiting_period = 7 - GET_ENTITLEMENTS(ANC_ABS_PLN_NAME,' ',0,IV_CONDITION_START_DATE, ADD_DAYS(IV_CONDITION_START_DATE,6)) IF (l_remaining_waiting_period > 0) THEN ( l_remaining_waiting_period = 0) ELSE ( l_remaining_waiting_period = 7) IF ((l_remaining_Entitlement - 7) > 0) THEN ( IF l_seniority >= 31 THEN (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement - l_remaining_waiting_period) IF l_seniority < 31 THEN (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement - l_remaining_waiting_period) IF l_seniority < 21 THEN (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement - l_remaining_waiting_period) IF l_seniority < 16 THEN (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement - l_remaining_waiting_period) IF l_seniority < 11 THEN (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement - l_remaining_waiting_period) IF l_seniority < 6 THEN (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement - l_remaining_waiting_period) IF l_seniority < 1 THEN (BANDPAYFACTOR = 0 BANDENTITLEMENT = 9999) ) ELSE (BANDPAYFACTOR = 0 BANDENTITLEMENT = 0) ) ELSE ( l_remaining_waiting_period = 7 - GET_ENTITLEMENTS(ANC_ABS_PLN_NAME,' ',0,IV_CONDITION_START_DATE, ADD_DAYS(IV_CONDITION_START_DATE,6)) IF (l_remaining_waiting_period > 0 and ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_AT') THEN ( l_remaining_waiting_period = 0) ELSE ( l_remaining_waiting_period = 7) IF ((l_remaining_Entitlement - 7) > 0) THEN ( IF l_seniority >= 31 THEN (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement - l_remaining_waiting_period) IF l_seniority < 31 THEN (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement - l_remaining_waiting_period) IF l_seniority < 21 THEN (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement - l_remaining_waiting_period) IF l_seniority < 16 THEN (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement - l_remaining_waiting_period) IF l_seniority < 11 THEN (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement - l_remaining_waiting_period) IF l_seniority < 6 THEN (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement - l_remaining_waiting_period) IF l_seniority < 1 THEN (BANDPAYFACTOR = 0 BANDENTITLEMENT = 9999) ) ELSE (BANDPAYFACTOR = 0 BANDENTITLEMENT = 0) ) ) ) lc_variable_to_be_logged = 'percent is : '|| TO_CHAR(BANDPAYFACTOR ) lc_dummy_variable = ESS_LOG_WRITE(lc_variable_to_be_logged) lc_variable_to_be_logged = 'entitlement : '|| TO_CHAR(BANDENTITLEMENT) lc_dummy_variable = ESS_LOG_WRITE(lc_variable_to_be_logged) RETURN BANDPAYFACTOR, BANDENTITLEMENT",
        "question": "Validates exam leave applications in Malaysia. Ensures the duration does not exceed 5\u20137 days (based on grade), the leave start date matches the exam date, prohibits leave during probation, verifies the manager\u2019s active status, and restricts applications before September 23, 2019. Returns a validity status with an error message if invalid.",
        "FORMULA_TYPE_NAME": "Global Absence Band Entitlement",
        "LEGISLATIVE_DATA_GROUP": "Standard formula"
    },
    {
        "FORMULA_NAME": "FR Sample Sickness Band 3 Entitlement",
        "answer": "DEFAULT FOR ANC_ABS_TYP_LEG_GROUPING_CD IS 'ABSTYPEUNKNOWN' DEFAULT FOR ANC_ABS_PLN_LEG_GROUPING_CD IS 'PLANTYPEUNKNOWN' DEFAULT FOR ANC_ABS_PLN_NAME IS 'PLANUNKNOWN' DEFAULT FOR ORA_HRX_FR_ABS_PER_NUMBER_CHILDREN IS 0 DEFAULT FOR PER_TERM_REL_DATE_START IS '0001/01/01 00:00:00' (DATE) DEFAULT FOR IV_CONDITION_START_DATE IS '0001/01/01 00:00:00' (DATE) DEFAULT FOR IV_START_DATE IS '4712/12/31 00:00:00' (date) INPUTS ARE IV_START_DATE (date),IV_CONDITION_START_DATE (date) l_remaining_Entitlement=0 l_consumed_Band3 =0 l_total_consumed_entitlement = 0 l_Band3=66.66 ret = ess_log_write ( '-- Start of Formula 3------') l_effective_date = '0001/01/01 00:00:00' (DATE) l_seniority =0 l_seniority_unrounded =0 IF (ANC_ABS_PLN_LEG_GROUPING_CD = 'ORA_HRX_FR_IJSS') THEN ( l_total_consumed_entitlement = GET_ENTITLEMENTS(ANC_ABS_PLN_NAME,' ',50,ADD_YEARS(IV_START_DATE,-3), IV_START_DATE) + GET_ENTITLEMENTS(ANC_ABS_PLN_NAME,' ',66.66,ADD_YEARS(IV_START_DATE,-3), IV_START_DATE) IF (ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_MAL' ) THEN ( l_remaining_Entitlement = 330 - l_total_consumed_entitlement if (l_remaining_Entitlement <= 0) THEN l_remaining_Entitlement = 0 IF (ORA_HRX_FR_ABS_PER_NUMBER_CHILDREN < 3) THEN (BANDPAYFACTOR = 50 BANDENTITLEMENT = LEAST(l_remaining_Entitlement,330)) ELSE (BANDPAYFACTOR = 66.66 BANDENTITLEMENT = LEAST(l_remaining_Entitlement,330)) ) ELSE ( l_remaining_Entitlement = 1050 - l_total_consumed_entitlement if (l_remaining_Entitlement <= 0) THEN l_remaining_Entitlement = 0 IF (ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_LMAL' ) THEN ( IF (ORA_HRX_FR_ABS_PER_NUMBER_CHILDREN < 3) THEN (BANDPAYFACTOR = 50 BANDENTITLEMENT = LEAST(l_remaining_Entitlement,1050)) ELSE (BANDPAYFACTOR = 66.66 BANDENTITLEMENT = LEAST(l_remaining_Entitlement,1050)) ) ELSE ( IF (ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_AT' OR ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_ATT' OR ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_ODI') THEN ( BANDPAYFACTOR = 80 BANDENTITLEMENT = 9999 ) ELSE ( BANDPAYFACTOR = 0 BANDENTITLEMENT = 9999 ) ) ) ) ELSE ( IF IV_CONDITION_START_DATE WAS NOT DEFAULTED THEN l_effective_date = IV_CONDITION_START_DATE ELSE l_effective_date = IV_START_DATE l_consumed_Band3 =GET_ENTITLEMENTS(ANC_ABS_PLN_NAME,' ',l_Band3,ADD_MONTHS(IV_START_DATE, -12), ADD_DAYS(IV_START_DATE,-1)) lc_variable_to_be_logged = 'consume band 3 rate legal : '|| TO_CHAR(l_Band3) lc_dummy_variable = ESS_LOG_WRITE(lc_variable_to_be_logged) lc_variable_to_be_logged = 'consume band 3 legal : '|| TO_CHAR(l_consumed_Band3) lc_dummy_variable = ESS_LOG_WRITE(lc_variable_to_be_logged) lc_variable_to_be_logged = 'consume band 3 legal : '|| TO_CHAR(ADD_MONTHS(IV_START_DATE, -12)) lc_dummy_variable = ESS_LOG_WRITE(lc_variable_to_be_logged) lc_variable_to_be_logged = 'consume band 3 legal : '|| TO_CHAR(ADD_DAYS(IV_START_DATE, -1)) lc_dummy_variable = ESS_LOG_WRITE(lc_variable_to_be_logged) l_seniority_unrounded= days_BETWEEN(l_effective_date, PER_TERM_REL_DATE_START)/365 l_seniority= TRUNC(l_seniority_unrounded,0) CHANGE_CONTEXTS(EFFECTIVE_DATE = l_effective_date) ( IF l_seniority >= 31 THEN (l_remaining_Entitlement = 90 - l_consumed_Band3 l_remaining_Entitlement = LEAST(l_remaining_Entitlement,90)) IF l_seniority < 31 THEN (l_remaining_Entitlement = 80 - l_consumed_Band3 l_remaining_Entitlement = LEAST(l_remaining_Entitlement,80)) IF l_seniority < 21 THEN (l_remaining_Entitlement = 60 - l_consumed_Band3 l_remaining_Entitlement = LEAST(l_remaining_Entitlement,60)) IF l_seniority < 16 THEN (l_remaining_Entitlement = 50 - l_consumed_Band3 l_remaining_Entitlement = LEAST(l_remaining_Entitlement,50)) IF l_seniority < 11 THEN (l_remaining_Entitlement = 40 - l_consumed_Band3 l_remaining_Entitlement = LEAST(l_remaining_Entitlement,40)) IF l_seniority < 6 THEN (l_remaining_Entitlement = 30 - l_consumed_Band3 l_remaining_Entitlement = LEAST(l_remaining_Entitlement,30)) IF l_seniority < 1 THEN (l_remaining_Entitlement = 99999) IF l_remaining_Entitlement < 0 THEN (l_remaining_Entitlement = 0) ) IF (ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_MAL' OR ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_LMAL' OR ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_AT' OR ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_ATT' OR ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_ODI') THEN ( IF l_seniority >= 31 THEN (BANDPAYFACTOR = 66.66 BANDENTITLEMENT = l_remaining_Entitlement) IF l_seniority < 31 THEN (BANDPAYFACTOR = 66.66 BANDENTITLEMENT = l_remaining_Entitlement) IF l_seniority < 21 THEN (BANDPAYFACTOR = 66.66 BANDENTITLEMENT = l_remaining_Entitlement) IF l_seniority < 16 THEN (BANDPAYFACTOR = 66.66 BANDENTITLEMENT = l_remaining_Entitlement) IF l_seniority < 11 THEN (BANDPAYFACTOR = 66.66 BANDENTITLEMENT = l_remaining_Entitlement) IF l_seniority < 6 THEN (BANDPAYFACTOR = 66.66 BANDENTITLEMENT = l_remaining_Entitlement) IF l_seniority < 1 THEN (BANDPAYFACTOR = 0 BANDENTITLEMENT = 9999) ) ELSE ( BANDPAYFACTOR = 0 BANDENTITLEMENT = 9999) ) lc_variable_to_be_logged = 'percent is : '|| TO_CHAR(BANDPAYFACTOR ) lc_dummy_variable = ESS_LOG_WRITE(lc_variable_to_be_logged) lc_variable_to_be_logged = 'entitlement : '|| TO_CHAR(BANDENTITLEMENT) lc_dummy_variable = ESS_LOG_WRITE(lc_variable_to_be_logged) RETURN BANDPAYFACTOR, BANDENTITLEMENT",
        "question": "Validates maternity leave applications in Singapore. Ensures the employee has worked at least 3 months, the duration does not exceed 56 days, verifies the manager\u2019s active status, and restricts applications before September 23, 2019. Returns a validity status with an error message if invalid.",
        "FORMULA_TYPE_NAME": "Global Absence Band Entitlement",
        "LEGISLATIVE_DATA_GROUP": "Standard formula"
    },
    {
        "FORMULA_NAME": "AKF UK Band Entitlement",
        "answer": "DEFAULT FOR PER_ASG_DATE_PROBATION_END IS '4712/12/31 00:00:00' (date) DEFAULT FOR PER_ASG_REL_ORIGINAL_DATE_OF_HIRE IS '4712/12/31 00:00:00' (date) L_PROBATION_END = PER_ASG_DATE_PROBATION_END L_HIRE_DATE = PER_ASG_REL_ORIGINAL_DATE_OF_HIRE L_DATE = GET_CURRENT_DATE() bandpayfactor = 100 bandentitlement = 12*5*8 IF L_PROBATION_END >L_DATE OR MONTHS_BETWEEN(L_DATE,L_HIRE_DATE)<6 THEN ( bandpayfactor = 100 bandentitlement = 8*5*8 ) RETURN bandpayfactor, bandentitlement",
        "question": "Validates unpaid personal leave applications in Vietnam. Ensures the duration complies with local policies, requires other leave balances (e.g., annual, sick) to be exhausted, verifies the manager\u2019s active status, and restricts applications before a specific date (e.g., September 2019). Returns a validity status with an error message if invalid.",
        "FORMULA_TYPE_NAME": "Global Absence Band Entitlement",
        "LEGISLATIVE_DATA_GROUP": "GB Legislative Data Group"
    },
    {
        "FORMULA_NAME": "FR - Exemple de tranche pour cong\u00e9 maladie - Droits",
        "answer": "DEFAULT FOR ANC_ABS_TYP_LEG_GROUPING_CD IS 'UNKNOWN' DEFAULT FOR ANC_ABS_PLN_LEG_GROUPING_CD IS 'UNKNOWN' DEFAULT FOR ANC_ABS_PLN_NAME IS 'UNKNOWN' DEFAULT FOR ORA_HRX_FR_ABS_PER_NUMBER_CHILDREN IS 0 DEFAULT FOR PER_TERM_REL_DATE_START IS '0001/01/01 00:00:00' (DATE) DEFAULT FOR IV_CONDITION_START_DATE IS '4712/12/31 00:00:00' (DATE) DEFAULT FOR IV_START_DATE IS '4712/12/31 00:00:00' (date) INPUTS ARE IV_START_DATE (date), IV_CONDITION_START_DATE (date) ret = ess_log_write ( '-- Start of Formula 1 ------') l_effective_date = '0001/01/01 00:00:00' (DATE) l_seniority_days = 0 l_seniority =0 l_seniority_unrounded =0 l_remaining_Entitlement=0 l_remaining_waiting_period = 0 l_consumed_Band50 = 0 IF (ANC_ABS_PLN_LEG_GROUPING_CD = 'ORA_HRX_FR_IJSS') THEN ( ret = ess_log_write ( '-- Start of IJSS ------') lc_variable_to_be_logged = 'ANC_ABS_TYP_LEG_GROUPING_CD : '|| ANC_ABS_TYP_LEG_GROUPING_CD lc_dummy_variable = ESS_LOG_WRITE(lc_variable_to_be_logged) IF ((ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_MAL' ) AND IV_CONDITION_START_DATE WAS DEFAULTED) THEN ( ret = ess_log_write ( '-- waiting period 3days-') lc_variable_to_be_logged = 'IV_CONDITION_START_DATE : '|| TO_CHAR(IV_CONDITION_START_DATE) lc_dummy_variable = ESS_LOG_WRITE(lc_variable_to_be_logged) BANDPAYFACTOR = 0 BANDENTITLEMENT = 3 ) ELSE ( IF (ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_MAL' OR ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_LMAL') THEN ( IF (IV_CONDITION_START_DATE WAS NOT DEFAULTED OR ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_LMAL') THEN ( IF (ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_MAL' ) THEN l_remaining_waiting_period = 3 - GET_ENTITLEMENTS(ANC_ABS_PLN_NAME,' ',0,IV_CONDITION_START_DATE, ADD_DAYS(IV_CONDITION_START_DATE,2)) ELSE l_remaining_waiting_period = 3 - GET_ENTITLEMENTS(ANC_ABS_PLN_NAME,' ',0,ADD_YEARS(IV_START_DATE,-3), IV_START_DATE) lc_variable_to_be_logged = 'l_remaining_waiting_period : '|| TO_CHAR(l_remaining_waiting_period) lc_dummy_variable = ESS_LOG_WRITE(lc_variable_to_be_logged) IF (l_remaining_waiting_period > 0) THEN ( BANDPAYFACTOR = 0 BANDENTITLEMENT = l_remaining_waiting_period) ELSE ( CHANGE_CONTEXTS(EFFECTIVE_DATE = IV_CONDITION_START_DATE) ( l_consumed_Band50 =GET_ENTITLEMENTS(ANC_ABS_PLN_NAME,' ',50,IV_CONDITION_START_DATE, ADD_DAYS(IV_START_DATE,-1)) lc_variable_to_be_logged = 'consume 50 new : '|| TO_CHAR(l_consumed_Band50) lc_dummy_variable = ESS_LOG_WRITE(lc_variable_to_be_logged) ) IF (ORA_HRX_FR_ABS_PER_NUMBER_CHILDREN < 3) THEN (BANDPAYFACTOR = 50 BANDENTITLEMENT = 3) ELSE ( l_remaining_Entitlement = 30 - l_consumed_band50 if (l_remaining_Entitlement <= 0) THEN (BANDPAYFACTOR = 66.66 BANDENTITLEMENT = 3) ELSE (BANDPAYFACTOR = 50 BANDENTITLEMENT = LEAST(l_remaining_Entitlement,3)) ) ) ) ELSE ( BANDPAYFACTOR = 50 BANDENTITLEMENT = 3 ) ) ELSE ( BANDPAYFACTOR = 60 BANDENTITLEMENT = 3 ) ) ) ELSE ( IF IV_CONDITION_START_DATE WAS NOT DEFAULTED THEN l_effective_date = IV_CONDITION_START_DATE ELSE l_effective_date = IV_START_DATE l_seniority_unrounded= days_BETWEEN(l_effective_date, PER_TERM_REL_DATE_START)/365 l_seniority= trunc(l_seniority_unrounded,0) l_consumed_Band2 =GET_ENTITLEMENTS(ANC_ABS_PLN_NAME,' ',90,ADD_MONTHS(IV_START_DATE, -12), ADD_DAYS(IV_START_DATE,-1)) lc_variable_to_be_logged = 'consume band 2 rate 90 legal : '|| TO_CHAR(l_consumed_Band2) lc_dummy_variable = ESS_LOG_WRITE(lc_variable_to_be_logged) CHANGE_CONTEXTS(EFFECTIVE_DATE = l_effective_date) ( IF l_seniority >= 31 THEN (l_remaining_Entitlement = 90 ) IF l_seniority < 31 THEN (l_remaining_Entitlement = 80 - l_consumed_Band2) IF l_seniority < 21 THEN (l_remaining_Entitlement = 60 - l_consumed_Band2) IF l_seniority < 16 THEN (l_remaining_Entitlement = 50 - l_consumed_Band2) IF l_seniority < 11 THEN (l_remaining_Entitlement = 40 - l_consumed_Band2) IF l_seniority < 6 THEN (l_remaining_Entitlement = 30 - l_consumed_Band2) IF l_seniority < 1 THEN (l_remaining_Entitlement = 366) IF l_remaining_Entitlement < 0 THEN (l_remaining_Entitlement = 0) l_remaining_Entitlement=LEAST(l_remaining_Entitlement,7) lc_variable_to_be_logged = 'l_remaining_Entitlement band 2 legal : '|| TO_CHAR(l_remaining_Entitlement) lc_dummy_variable = ESS_LOG_WRITE(lc_variable_to_be_logged) ) IF (((ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_MAL' OR ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_AT' OR ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_LMAL') AND IV_CONDITION_START_DATE WAS DEFAULTED) ) THEN ( BANDPAYFACTOR = 0 BANDENTITLEMENT = 7 ) ELSE ( IF (ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_MAL' OR ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_LMAL' OR ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_AT') THEN ( IF (IV_CONDITION_START_DATE WAS NOT DEFAULTED) THEN ( l_remaining_waiting_period = 7 - GET_ENTITLEMENTS(ANC_ABS_PLN_NAME,' ',0,IV_CONDITION_START_DATE, ADD_DAYS(IV_CONDITION_START_DATE,6)) IF (l_remaining_waiting_period > 0) THEN ( BANDPAYFACTOR = 0 BANDENTITLEMENT = l_remaining_waiting_period) ELSE ( IF l_seniority < 1 THEN (BANDPAYFACTOR = 0 BANDENTITLEMENT = 7) ELSE (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement) ) ) ELSE ( IF l_seniority < 1 THEN (BANDPAYFACTOR = 0 BANDENTITLEMENT = 7) ELSE (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement) ) ) ELSE ( IF l_seniority < 1 THEN (BANDPAYFACTOR = 0 BANDENTITLEMENT = 7) ELSE (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement) ) ) ) lc_variable_to_be_logged = 'percent is : '|| TO_CHAR(BANDPAYFACTOR ) lc_dummy_variable = ESS_LOG_WRITE(lc_variable_to_be_logged) lc_variable_to_be_logged = 'entitlement : '|| TO_CHAR(BANDENTITLEMENT) lc_dummy_variable = ESS_LOG_WRITE(lc_variable_to_be_logged) RETURN BANDPAYFACTOR, BANDENTITLEMENT",
        "question": "",
        "FORMULA_TYPE_NAME": "Global Absence Band Entitlement",
        "LEGISLATIVE_DATA_GROUP": "Standard formula"
    },
    {
        "FORMULA_NAME": "FR - Exemple de tranche pour cong\u00e9 maladie 2 - Droits",
        "answer": "DEFAULT FOR ANC_ABS_TYP_LEG_GROUPING_CD IS 'ABSTYPEUNKNOWN' DEFAULT FOR ANC_ABS_PLN_LEG_GROUPING_CD IS 'PLANTYPEUNKNOWN' DEFAULT FOR ANC_ABS_PLN_NAME IS 'PLANUNKNOWN' DEFAULT FOR ORA_HRX_FR_ABS_PER_NUMBER_CHILDREN IS 0 DEFAULT FOR PER_TERM_REL_DATE_START IS '0001/01/01 00:00:00' (DATE) DEFAULT FOR IV_CONDITION_START_DATE IS '0001/01/01 00:00:00' (DATE) DEFAULT FOR IV_START_DATE IS '4712/12/31 00:00:00' (date) INPUTS ARE IV_START_DATE (date), IV_CONDITION_START_DATE (date) ret = ess_log_write ( '-- Start of Formula 2------') l_effective_date = '0001/01/01 00:00:00' (DATE) l_seniority =0 l_seniority_unrounded =0 l_consumed_Band50 =0 l_consumed_Band2 =0 l_remaining_Entitlement = 0 l_total_consumed_entitlement = 0 IF (ANC_ABS_PLN_LEG_GROUPING_CD = 'ORA_HRX_FR_IJSS') THEN ( l_total_consumed_entitlement = GET_ENTITLEMENTS(ANC_ABS_PLN_NAME,' ',50,ADD_YEARS(IV_START_DATE,-3), IV_START_DATE) + GET_ENTITLEMENTS(ANC_ABS_PLN_NAME,' ',66.66,ADD_YEARS(IV_START_DATE,-3), IV_START_DATE) IF (ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_MAL' AND IV_CONDITION_START_DATE WAS DEFAULTED) THEN ( l_remaining_Entitlement = 360 - l_total_consumed_entitlement IF (ORA_HRX_FR_ABS_PER_NUMBER_CHILDREN < 3) THEN (BANDPAYFACTOR = 50 BANDENTITLEMENT = LEAST(l_remaining_Entitlement,360)) ELSE (BANDPAYFACTOR = 50 BANDENTITLEMENT = LEAST(l_remaining_Entitlement,30)) ) ELSE ( IF ((ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_LMAL' ) AND IV_CONDITION_START_DATE WAS DEFAULTED) THEN ( l_remaining_Entitlement = 1080 - l_total_consumed_entitlement IF (ORA_HRX_FR_ABS_PER_NUMBER_CHILDREN < 3) THEN (BANDPAYFACTOR = 50 BANDENTITLEMENT = LEAST(l_remaining_Entitlement,1080)) ELSE (BANDPAYFACTOR = 50 BANDENTITLEMENT = LEAST(l_remaining_Entitlement,30)) ) ELSE ( IF IV_CONDITION_START_DATE WAS NOT DEFAULTED THEN l_effective_date = IV_CONDITION_START_DATE ELSE l_effective_date = IV_START_DATE CHANGE_CONTEXTS(EFFECTIVE_DATE = l_effective_date) ( l_consumed_Band50 =GET_ENTITLEMENTS(ANC_ABS_PLN_NAME,' ',50,IV_CONDITION_START_DATE, ADD_DAYS(IV_START_DATE,-1)) lc_variable_to_be_logged = 'consume 50 new : '|| TO_CHAR(l_consumed_Band50) lc_dummy_variable = ESS_LOG_WRITE(lc_variable_to_be_logged) ) IF ((ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_MAL' AND IV_CONDITION_START_DATE WAS NOT DEFAULTED) ) THEN ( IF (ORA_HRX_FR_ABS_PER_NUMBER_CHILDREN < 3) THEN (BANDPAYFACTOR = 50 BANDENTITLEMENT = 357) ELSE ( l_remaining_Entitlement = 30 - l_consumed_band50 if (l_remaining_Entitlement <= 0) THEN (BANDPAYFACTOR = 66.66 BANDENTITLEMENT = 27) ELSE (BANDPAYFACTOR = 50 BANDENTITLEMENT = l_remaining_Entitlement - 3) ) ) ELSE ( IF ((ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_LMAL' AND IV_CONDITION_START_DATE WAS NOT DEFAULTED) ) THEN ( IF (ORA_HRX_FR_ABS_PER_NUMBER_CHILDREN < 3) THEN (BANDPAYFACTOR = 50 BANDENTITLEMENT = 1077) ELSE ( l_remaining_Entitlement = 30 - l_consumed_band50 if (l_remaining_Entitlement <= 0) THEN (BANDPAYFACTOR = 66.66 BANDENTITLEMENT = 27) ELSE (BANDPAYFACTOR = 50 BANDENTITLEMENT = l_remaining_Entitlement - 3) ) ) ELSE (BANDPAYFACTOR = 60 BANDENTITLEMENT = 25) ) ) ) ) ELSE ( IF IV_CONDITION_START_DATE WAS NOT DEFAULTED THEN l_effective_date = IV_CONDITION_START_DATE ELSE l_effective_date = IV_START_DATE l_consumed_Band2 =GET_ENTITLEMENTS(ANC_ABS_PLN_NAME,' ',90,ADD_MONTHS(IV_START_DATE, -12), ADD_DAYS(IV_START_DATE,-1)) lc_variable_to_be_logged = 'consume band 2 rate 90 legal : '|| TO_CHAR(l_consumed_Band2) lc_dummy_variable = ESS_LOG_WRITE(lc_variable_to_be_logged) l_seniority_unrounded= days_BETWEEN(l_effective_date, PER_TERM_REL_DATE_START)/365 l_seniority= TRUNC(l_seniority_unrounded,0) CHANGE_CONTEXTS(EFFECTIVE_DATE = l_effective_date) ( IF l_seniority >= 31 THEN (l_remaining_Entitlement = 90 - l_consumed_Band2) IF l_seniority < 31 THEN (l_remaining_Entitlement = 80 - l_consumed_Band2) IF l_seniority < 21 THEN (l_remaining_Entitlement = 60 - l_consumed_Band2) IF l_seniority < 16 THEN (l_remaining_Entitlement = 50 - l_consumed_Band2) IF l_seniority < 11 THEN (l_remaining_Entitlement = 40 - l_consumed_Band2) IF l_seniority < 6 THEN (l_remaining_Entitlement = 30 - l_consumed_Band2) IF l_seniority < 1 THEN (l_remaining_Entitlement = 9999) IF l_remaining_Entitlement < 0 THEN (l_remaining_Entitlement = 0) ) IF ((ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_MAL' OR ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_LMAL' OR ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_AT') AND IV_CONDITION_START_DATE WAS DEFAULTED) THEN ( IF l_seniority >= 31 THEN (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement) IF l_seniority < 31 THEN (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement) IF l_seniority < 21 THEN (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement) IF l_seniority < 16 THEN (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement) IF l_seniority < 11 THEN (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement) IF l_seniority < 6 THEN (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement) IF l_seniority < 1 THEN (BANDPAYFACTOR = 0 BANDENTITLEMENT = 9999) ) ELSE ( IF (ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_MAL' OR ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_LMAL' OR ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_AT') THEN ( l_remaining_waiting_period = 7 - GET_ENTITLEMENTS(ANC_ABS_PLN_NAME,' ',0,IV_CONDITION_START_DATE, ADD_DAYS(IV_CONDITION_START_DATE,6)) IF (l_remaining_waiting_period > 0) THEN ( l_remaining_waiting_period = 0) ELSE ( l_remaining_waiting_period = 7) IF ((l_remaining_Entitlement - 7) > 0) THEN ( IF l_seniority >= 31 THEN (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement - l_remaining_waiting_period) IF l_seniority < 31 THEN (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement - l_remaining_waiting_period) IF l_seniority < 21 THEN (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement - l_remaining_waiting_period) IF l_seniority < 16 THEN (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement - l_remaining_waiting_period) IF l_seniority < 11 THEN (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement - l_remaining_waiting_period) IF l_seniority < 6 THEN (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement - l_remaining_waiting_period) IF l_seniority < 1 THEN (BANDPAYFACTOR = 0 BANDENTITLEMENT = 9999) ) ELSE (BANDPAYFACTOR = 0 BANDENTITLEMENT = 0) ) ELSE ( l_remaining_waiting_period = 7 - GET_ENTITLEMENTS(ANC_ABS_PLN_NAME,' ',0,IV_CONDITION_START_DATE, ADD_DAYS(IV_CONDITION_START_DATE,6)) IF (l_remaining_waiting_period > 0 and ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_AT') THEN ( l_remaining_waiting_period = 0) ELSE ( l_remaining_waiting_period = 7) IF ((l_remaining_Entitlement - 7) > 0) THEN ( IF l_seniority >= 31 THEN (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement - l_remaining_waiting_period) IF l_seniority < 31 THEN (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement - l_remaining_waiting_period) IF l_seniority < 21 THEN (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement - l_remaining_waiting_period) IF l_seniority < 16 THEN (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement - l_remaining_waiting_period) IF l_seniority < 11 THEN (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement - l_remaining_waiting_period) IF l_seniority < 6 THEN (BANDPAYFACTOR = 90 BANDENTITLEMENT = l_remaining_Entitlement - l_remaining_waiting_period) IF l_seniority < 1 THEN (BANDPAYFACTOR = 0 BANDENTITLEMENT = 9999) ) ELSE (BANDPAYFACTOR = 0 BANDENTITLEMENT = 0) ) ) ) lc_variable_to_be_logged = 'percent is : '|| TO_CHAR(BANDPAYFACTOR ) lc_dummy_variable = ESS_LOG_WRITE(lc_variable_to_be_logged) lc_variable_to_be_logged = 'entitlement : '|| TO_CHAR(BANDENTITLEMENT) lc_dummy_variable = ESS_LOG_WRITE(lc_variable_to_be_logged) RETURN BANDPAYFACTOR, BANDENTITLEMENT",
        "question": "",
        "FORMULA_TYPE_NAME": "Global Absence Band Entitlement",
        "LEGISLATIVE_DATA_GROUP": "Standard formula"
    },
    {
        "FORMULA_NAME": "FR - Exemple de tranche pour cong\u00e9 maladie 3 - Droits",
        "answer": "DEFAULT FOR ANC_ABS_TYP_LEG_GROUPING_CD IS 'ABSTYPEUNKNOWN' DEFAULT FOR ANC_ABS_PLN_LEG_GROUPING_CD IS 'PLANTYPEUNKNOWN' DEFAULT FOR ANC_ABS_PLN_NAME IS 'PLANUNKNOWN' DEFAULT FOR ORA_HRX_FR_ABS_PER_NUMBER_CHILDREN IS 0 DEFAULT FOR PER_TERM_REL_DATE_START IS '0001/01/01 00:00:00' (DATE) DEFAULT FOR IV_CONDITION_START_DATE IS '0001/01/01 00:00:00' (DATE) DEFAULT FOR IV_START_DATE IS '4712/12/31 00:00:00' (date) INPUTS ARE IV_START_DATE (date),IV_CONDITION_START_DATE (date) l_remaining_Entitlement=0 l_consumed_Band3 =0 l_total_consumed_entitlement = 0 l_Band3=66.66 ret = ess_log_write ( '-- Start of Formula 3------') l_effective_date = '0001/01/01 00:00:00' (DATE) l_seniority =0 l_seniority_unrounded =0 IF (ANC_ABS_PLN_LEG_GROUPING_CD = 'ORA_HRX_FR_IJSS') THEN ( l_total_consumed_entitlement = GET_ENTITLEMENTS(ANC_ABS_PLN_NAME,' ',50,ADD_YEARS(IV_START_DATE,-3), IV_START_DATE) + GET_ENTITLEMENTS(ANC_ABS_PLN_NAME,' ',66.66,ADD_YEARS(IV_START_DATE,-3), IV_START_DATE) IF (ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_MAL' ) THEN ( l_remaining_Entitlement = 330 - l_total_consumed_entitlement if (l_remaining_Entitlement <= 0) THEN l_remaining_Entitlement = 0 IF (ORA_HRX_FR_ABS_PER_NUMBER_CHILDREN < 3) THEN (BANDPAYFACTOR = 50 BANDENTITLEMENT = LEAST(l_remaining_Entitlement,330)) ELSE (BANDPAYFACTOR = 66.66 BANDENTITLEMENT = LEAST(l_remaining_Entitlement,330)) ) ELSE ( l_remaining_Entitlement = 1050 - l_total_consumed_entitlement if (l_remaining_Entitlement <= 0) THEN l_remaining_Entitlement = 0 IF (ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_LMAL' ) THEN ( IF (ORA_HRX_FR_ABS_PER_NUMBER_CHILDREN < 3) THEN (BANDPAYFACTOR = 50 BANDENTITLEMENT = LEAST(l_remaining_Entitlement,1050)) ELSE (BANDPAYFACTOR = 66.66 BANDENTITLEMENT = LEAST(l_remaining_Entitlement,1050)) ) ELSE ( IF (ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_AT' OR ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_ATT' OR ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_ODI') THEN ( BANDPAYFACTOR = 80 BANDENTITLEMENT = 9999 ) ELSE ( BANDPAYFACTOR = 0 BANDENTITLEMENT = 9999 ) ) ) ) ELSE ( IF IV_CONDITION_START_DATE WAS NOT DEFAULTED THEN l_effective_date = IV_CONDITION_START_DATE ELSE l_effective_date = IV_START_DATE l_consumed_Band3 =GET_ENTITLEMENTS(ANC_ABS_PLN_NAME,' ',l_Band3,ADD_MONTHS(IV_START_DATE, -12), ADD_DAYS(IV_START_DATE,-1)) lc_variable_to_be_logged = 'consume band 3 rate legal : '|| TO_CHAR(l_Band3) lc_dummy_variable = ESS_LOG_WRITE(lc_variable_to_be_logged) lc_variable_to_be_logged = 'consume band 3 legal : '|| TO_CHAR(l_consumed_Band3) lc_dummy_variable = ESS_LOG_WRITE(lc_variable_to_be_logged) lc_variable_to_be_logged = 'consume band 3 legal : '|| TO_CHAR(ADD_MONTHS(IV_START_DATE, -12)) lc_dummy_variable = ESS_LOG_WRITE(lc_variable_to_be_logged) lc_variable_to_be_logged = 'consume band 3 legal : '|| TO_CHAR(ADD_DAYS(IV_START_DATE, -1)) lc_dummy_variable = ESS_LOG_WRITE(lc_variable_to_be_logged) l_seniority_unrounded= days_BETWEEN(l_effective_date, PER_TERM_REL_DATE_START)/365 l_seniority= TRUNC(l_seniority_unrounded,0) CHANGE_CONTEXTS(EFFECTIVE_DATE = l_effective_date) ( IF l_seniority >= 31 THEN (l_remaining_Entitlement = 90 - l_consumed_Band3 l_remaining_Entitlement = LEAST(l_remaining_Entitlement,90)) IF l_seniority < 31 THEN (l_remaining_Entitlement = 80 - l_consumed_Band3 l_remaining_Entitlement = LEAST(l_remaining_Entitlement,80)) IF l_seniority < 21 THEN (l_remaining_Entitlement = 60 - l_consumed_Band3 l_remaining_Entitlement = LEAST(l_remaining_Entitlement,60)) IF l_seniority < 16 THEN (l_remaining_Entitlement = 50 - l_consumed_Band3 l_remaining_Entitlement = LEAST(l_remaining_Entitlement,50)) IF l_seniority < 11 THEN (l_remaining_Entitlement = 40 - l_consumed_Band3 l_remaining_Entitlement = LEAST(l_remaining_Entitlement,40)) IF l_seniority < 6 THEN (l_remaining_Entitlement = 30 - l_consumed_Band3 l_remaining_Entitlement = LEAST(l_remaining_Entitlement,30)) IF l_seniority < 1 THEN (l_remaining_Entitlement = 99999) IF l_remaining_Entitlement < 0 THEN (l_remaining_Entitlement = 0) ) IF (ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_MAL' OR ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_LMAL' OR ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_AT' OR ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_ATT' OR ANC_ABS_TYP_LEG_GROUPING_CD = 'ORA_HRX_FR_ODI') THEN ( IF l_seniority >= 31 THEN (BANDPAYFACTOR = 66.66 BANDENTITLEMENT = l_remaining_Entitlement) IF l_seniority < 31 THEN (BANDPAYFACTOR = 66.66 BANDENTITLEMENT = l_remaining_Entitlement) IF l_seniority < 21 THEN (BANDPAYFACTOR = 66.66 BANDENTITLEMENT = l_remaining_Entitlement) IF l_seniority < 16 THEN (BANDPAYFACTOR = 66.66 BANDENTITLEMENT = l_remaining_Entitlement) IF l_seniority < 11 THEN (BANDPAYFACTOR = 66.66 BANDENTITLEMENT = l_remaining_Entitlement) IF l_seniority < 6 THEN (BANDPAYFACTOR = 66.66 BANDENTITLEMENT = l_remaining_Entitlement) IF l_seniority < 1 THEN (BANDPAYFACTOR = 0 BANDENTITLEMENT = 9999) ) ELSE ( BANDPAYFACTOR = 0 BANDENTITLEMENT = 9999) ) lc_variable_to_be_logged = 'percent is : '|| TO_CHAR(BANDPAYFACTOR ) lc_dummy_variable = ESS_LOG_WRITE(lc_variable_to_be_logged) lc_variable_to_be_logged = 'entitlement : '|| TO_CHAR(BANDENTITLEMENT) lc_dummy_variable = ESS_LOG_WRITE(lc_variable_to_be_logged) RETURN BANDPAYFACTOR, BANDENTITLEMENT",
        "question": "",
        "FORMULA_TYPE_NAME": "Global Absence Band Entitlement",
        "LEGISLATIVE_DATA_GROUP": "Standard formula"
    }
]